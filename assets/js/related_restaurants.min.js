jQuery(function(){function a(a){return a.split(/,\s*/)}function b(b){return a(b).pop()}var c={action:"related_restaurants"},d=[];jQuery.post(auto.admin_url,c,function(a){obj=JSON.parse("["+a+"]");for(var b=0;b<obj[0].length;b++){var c={};c.id=obj[0][b].value,c.value=obj[0][b].label,c.label=obj[0][b].label,d.push(c)}}),jQuery("#related_restaurants_tag").on("keydown",function(a){a.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).autocomplete("instance").menu.active&&a.preventDefault()}).autocomplete({minLength:0,source:function(a,c){c(jQuery.ui.autocomplete.filter(d,b(a.term)))},focus:function(){return!1},select:function(b,c){var d=jQuery("#res_ids").attr("value");jQuery("#res_ids").val(d+c.item.id+",");var e=a(this.value);return e.pop(),e.push(c.item.value),e.push(""),this.value=e.join(", "),!1}})});